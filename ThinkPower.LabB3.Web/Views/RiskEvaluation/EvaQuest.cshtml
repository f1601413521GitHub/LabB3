@model ThinkPower.LabB3.Domain.Entity.Risk.RiskEvaQuestionnaireEntity


@{
    ViewBag.Title = "EvaQuest";
}


@section css{
    <link href="~/Content/ThinkPowerStyle.css" rel="stylesheet" />
}


@using (Html.BeginForm("EvaQuest", "RiskEvaluation", FormMethod.Post))
{
    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-md-5">
                <div class="col-md-10 tp-font tp-color align">
                    @Html.DisplayFor(model => model.Questionnaire.Name)
                </div>
            </div>
            <div class="col-md-5">
                <img src="@Model.Questionnaire.HeadBackgroundImg" class="tp-img-size-1" alt="Alternate Text" />
            </div>
        </div>

        @foreach (var questDefine in Model.QuestionDefines)
        {
            <div class="form-group">
                1
                @Html.DisplayFor(model => questDefine.QuestionContent)
            </div>


            <div class="form-group">
                @foreach (var questAnsDefine in Model.QuestionAnswerDefines.Where(x => x.QuestionUid == questDefine.Uid))
                {
                    @Html.DisplayFor(model => questAnsDefine.AnswerContent)
                    if (questDefine.AnswerType == "S")
                    {
                        @*@Html.CheckBoxFor(model => questAnsDefine.AnswerContent)
                        @Html.RadioButtonFor(model => false, questAnsDefine.AnswerContent)*@
                    }
                    else if (questDefine.AnswerType == "M")
                    {

                    }
                    else if (questDefine.AnswerType == "F")
                    {

                    }
                }
            </div>
        }
    </div>
}


@section Scripts {
    <script>
        $(document).ready(function () {
            var viewModel;

            initial();
            load();
        });

        function initial() {
            viewModel = {
                quest: JSON.stringify(@Html.Raw(Json.Encode(Model.Questionnaire))),
                questDefine: JSON.stringify(@Html.Raw(Json.Encode(Model.QuestionDefines))),
                questAnsDefine: JSON.stringify(@Html.Raw(Json.Encode(Model.QuestionAnswerDefines))),
            };
        }

        function load() {
            console.log(viewModel);
        }

    </script>
}
